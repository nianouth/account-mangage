# 账号管理器Chrome扩展

## 项目概述

这是一个功能强大的Chrome浏览器扩展插件，作为账号管理器，帮助用户高效管理多个环境和账号，支持一键登录和数据加密功能。

## 核心功能

### 1. 双界面操作模式

- **弹出页面**：通过点击扩展图标打开的传统管理界面
- **悬浮面板**：注入到所有网页的固定悬浮面板，提供即时访问
- 界面简洁美观，不影响网页浏览

### 2. 环境管理系统

- 环境与网站域名的关联关系
- 支持环境的添加、编辑、删除和切换功能
- 自动识别当前网站域名，匹配对应的环境
- 安装时自动初始化三个默认环境（开发、测试、生产）

### 3. 账号管理功能

- 为每个环境添加多个账号（包含用户名、邮箱、密码信息）
- 支持账号的添加、编辑、删除操作
- 账号数据安全存储在Chrome本地存储中

### 4. 智能自动登录

- 点击账号列表中的"登录"按钮，自动填充当前页面的登录表单
- 支持多种常见登录表单字段的智能识别（用户名、邮箱、密码输入框）
- 自动点击登录提交按钮完成登录流程

### 5. 数据加密保护

- 使用Web Crypto API进行AES-GCM加密存储账号密码
- 支持主密码设置和管理
- 数据本地存储，不会上传到服务器

### 6. 数据备份与恢复

- 支持账号和环境数据的完整备份
- 提供数据恢复功能，保障数据安全

## 安装使用说明

### 安装步骤

1. **下载扩展文件**
   - 将所有文件下载到本地文件夹
   - 确保文件结构完整：
   ```
   account-manager/
   ├── icons/
   │   └── icon.png
   ├── README.md
   ├── background.js
   ├── content.js
   ├── crypto-utils.js
   ├── manifest.json
   ├── popup.html
   ├── popup.js
   └── styles.css
   ```

2. **打开Chrome浏览器**
   - 点击右上角的三个点菜单
   - 选择"更多工具" -> "扩展程序"
   - 启用开发者模式

3. **加载已解压的扩展程序**
   - 点击"加载已解压的扩展程序"
   - 选择下载的account-manager文件夹

### 使用方法

#### 1. 环境管理

- 点击扩展图标，打开弹出窗口
- 在环境选择器中选择已有的环境
- 点击"+"按钮添加新环境
- 输入环境名称和域名

#### 2. 账号管理

- 选择环境后，点击"添加账号"按钮
- 输入用户名、邮箱和密码
- 账号会自动关联到当前选择的环境

#### 3. 一键登录

- 在悬浮面板或弹出窗口中选择账号
- 点击"登录"按钮
- 系统会自动填充登录表单并提交

#### 4. 悬浮面板操作

- 悬浮面板默认显示在网页右上角
- 可以拖拽调整位置
- 点击环境选择器切换环境
- 点击账号的"登录"按钮自动填充表单

#### 5. 数据加密

- 扩展默认使用加密存储账号密码
- 可以设置主密码增强安全性
- 密码使用AES-GCM算法加密

## 技术实现

### 核心技术栈

- HTML5 + CSS3 + JavaScript
- Chrome Extension Manifest V3
- Chrome Storage API
- Chrome Tabs API
- Chrome Scripting API
- Web Crypto API

### 安全机制

- 使用Chrome storage API安全存储数据
- 账号密码使用AES-GCM加密算法保护
- 数据本地存储，不会上传到服务器
- 支持主密码设置和管理

### 兼容性

- 支持Chrome浏览器版本 88.0 及以上
- 兼容主流网站的登录表单结构
- 支持多平台（Windows、Mac、Linux）

## 项目结构

```
account-manager/
├── icons/              # 图标文件夹
│   └── icon.png        # 扩展图标
├── README.md           # 项目说明文档
├── background.js       # 后台服务脚本
├── content.js          # 内容脚本，注入悬浮面板
├── crypto-utils.js     # 加密工具类
├── manifest.json       # 扩展配置文件
├── popup.html          # 弹出窗口HTML结构
├── popup.js            # 弹出窗口功能实现
└── styles.css          # 样式文件
```

### 主要文件说明

#### manifest.json
- 扩展的配置文件
- 声明权限、背景脚本、内容脚本等
- 定义扩展的基本信息和功能

#### background.js
- 后台服务脚本
- 处理扩展的生命周期事件
- 监听域名变化，自动切换环境
- 实现数据备份与恢复功能
- 安装时初始化默认数据

#### content.js
- 内容脚本，注入到网页中
- 创建悬浮式操作界面
- 实现账号列表展示和一键登录功能
- 支持拖拽调整位置

#### popup.html / popup.js
- 弹出窗口的HTML结构和功能实现
- 提供环境管理和账号管理功能
- 支持账号的添加、编辑、删除操作

#### crypto-utils.js
- 加密工具类
- 使用Web Crypto API进行AES-GCM加密
- 支持主密码设置和管理
- 提供加密和解密方法

#### styles.css
- 样式文件
- 定义悬浮面板和弹出窗口的样式
- 确保界面美观和响应式

## 安全说明

1. **数据存储**：账号信息存储在Chrome的本地存储中，不会上传到任何服务器
2. **密码加密**：账号密码使用AES-GCM加密算法保护
3. **权限控制**：仅请求必要的Chrome API权限，保护用户隐私
4. **安全建议**：建议设置主密码，进一步增强数据安全性

## 未来扩展

- 支持账号密码加密存储（已实现）
- 提供搜索和筛选功能
- 支持批量导入导出账号
- 增加快捷键操作
- 支持多账号同时登录
- 提供账号使用统计
- 增强表单自动填充的兼容性

## 常见问题

### Q: 如何备份账号数据？
A: 可以通过扩展的备份功能，将账号数据导出为JSON文件，保存到本地。

### Q: 如何恢复账号数据？
A: 使用扩展的恢复功能，选择之前备份的JSON文件，即可恢复账号数据。

### Q: 账号信息是否安全？
A: 账号信息使用Chrome的storage API存储在本地，密码经过AES-GCM加密，不会上传到服务器，安全性较高。

### Q: 支持哪些网站的自动登录？
A: 支持主流网站的登录表单结构，包括但不限于Google、Facebook、GitHub等。

### Q: 如何设置主密码？
A: 目前主密码功能已实现，未来将在界面中添加设置选项。

## 版本历史

- **v1.0** (2026-01-09)
  - 初始版本
  - 实现环境管理和账号管理功能
  - 支持一键登录和自动环境切换
  - 实现数据加密功能
  - 双界面操作模式（弹出页面和悬浮面板）

## 联系方式

如有问题或建议，请通过以下方式联系：

- GitHub：https://github.com/nianouth/account-mangage

## 许可证

本项目采用MIT许可证，详见LICENSE文件。